<!DOCTYPE html>
<html>
<head>
	<meter charset="utf-8"></meter>
	<title></title>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
	<script src="js/scriptures.js" type="text/javascript"></script>
</head>
<body>
	<div id = "header">
		<div id = "crumb"></div>
		<div id = "centerhead">
			<div id = "title">The Scriptures, Mapped</div>
			<div id = "subtitle">Yue Shen</div>
		</div>
	</div>
	<div id = "content">
		<div id = "scriptures"></div>
		<div id = "map"></div>
	</div>
	<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVrFz6pyVtooI7emyrRWUDVi3tcCJMysY&callback=initMap&libraries=./api_ex/maplabel/maplabel-compiled.js&callback=initMap">
    </script>
    <!-- <script src="./api_ex/maplabel/maplabel-compiled.js"></script> -->
	<script type="text/javascript">
	function ready(eventHandler) {
	  if (document.attachEvent ? document.readyState === "complete" : 
	  	                         document.readyState !== "loading"){
	    eventHandler();
	  } else {
	    document.addEventListener("DOMContentLoaded", eventHandler);
	  }
	}
	ready(function(){
		// alert("ready")
		window.addEventListener("hashchange", Scriptures.onHashChanged);
		Scriptures.init(Scriptures.onHashChanged); //why is init a function with (), but onHashChanged does not have ()
	});
	let map;
	let gmMarkers = [];
	function initMap() {
		
		let jeruslum = {lat: 31.771, lng: 35.217};
		map = new google.maps.Map(document.getElementById('map'), {
			zoom: 5,
			center: jeruslum
		});

		let marker = new google.maps.Marker({
			position: jeruslum,
			map: map,
			label: "Jeruslum",
			animation: google.maps.Animation.DROP
		});
		gmMarkers.push(marker);
	}
	</script>
	
</body>
</html>